<div class="map-wrap">
  <!-- Search Box -->
  <div class="search-box">
    <input #searchInput type="text" placeholder="Search location..." [(ngModel)]="searchQuery" (input)="fetchSuggestions()">
    <button (click)="searchLocation()">üîç</button>
    <ul class="suggestions-list" *ngIf="suggestions.length">
      <li *ngFor="let suggestion of suggestions" (click)="selectSuggestion(suggestion)">
        {{ suggestion.name }}
      </li>
    </ul>
  </div>

  <div class="map" #map></div>

  <!-- Report Form (Initially Hidden) -->
  <!-- Report Form -->
<div class="details-form-container" id="detailsForm">
  <button class="close-form-btn" (click)="closeForm()">‚úñ</button>
  <h2>Report a Problem</h2>

  <form (submit)="submitReport($event)">
    <div class="location-info">
      <label>Location: </label>
      <span id="location-name" class="highlight-text"></span>
      <br>
      <label>Region: </label>
      <span id="region" class="highlight-text"></span>
      <br>
    </div>

    <div class="input-group">
      <label for="email">Email (Optional)</label>
      <input type="email" id="email" name="email" placeholder="Enter your email">
    </div>

    <div class="input-group">
      <label for="phone-number">Phone Number (Optional)</label>
      <input type="tel" id="phone-number" name="phone-number" pattern="[0-9]{10}" placeholder="+255625219727">
    </div>

    <div class="input-group">
      <label for="problem-description">Problem Description</label>
      <textarea id="problem-description" name="problem-description" placeholder="Describe the problem" rows="4"></textarea>
    </div>

    <div class="input-group file-upload">
      <label for="media-upload">Upload Media (Optional)</label>
      <input type="file" id="media-upload" name="media-upload" accept="image/*,video/*">
    </div>

    <button type="submit" class="submit-btn">Submit</button>
  </form>
</div>

<!-- Background Overlay -->
<div class="overlay" (click)="closeForm()"></div>
</div>

